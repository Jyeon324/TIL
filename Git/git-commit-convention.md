# [Git] Git Commit Convention (커밋 컨벤션)

## 1. 커밋 컨벤션이란?

-   커밋 메시지를 작성할 때, **팀원들과 정해진 특정 양식(규칙)에 맞춰** 작성하는 것을 의미한다.
-   단순히 "수정함", "기능 추가"가 아니라, "어떤 종류의 변경"인지, "무엇을" 했는지 명확하게 전달하기 위한 약속이다.
-   가장 널리 쓰이는 방식 중 하나는 **"Conventional Commits (관례적인 커밋)"**이다.

## 2. 왜 사용해야 하는가? (필요성)

1.  **가독성 (History):** 커밋 목록(`git log`)만 봐도 어떤 변경사항이 있었는지 한눈에 파악할 수 있다.
2.  **검색 용이:** 특정 유형(e.g., `fix` 또는 `feat`)의 커밋만 필터링해서 찾아보기 쉽다.
3.  **협업:** 팀원 모두가 동일한 규칙으로 메시지를 작성해 소통 비용이 줄어든다.
4.  **자동화:** 커밋 메시지를 기반으로 **버전 릴리스 노트**나 **CHANGELOG**를 자동으로 생성할 수 있다. (매우 강력한 기능)

## 3. Conventional Commits 기본 구조

가장 널리 쓰이는 기본 구조는 다음과 같다.

```text
<Type>(<Scope>): <Subject>

<Body>

<Footer>
```

-   `Header`는 필수이며, `Body`와 `Footer`는 선택 사항이다.
-   `Body`나 `Footer`를 작성할 경우, `Header`와 반드시 **한 줄의 공백**을 두어야 한다.

---
**1) Type (필수)**: 커밋의 성격을 나타내는 핵심 태그.

- `feat`: 새로운 기능 (feature) 추가
- `fix`: 버그 수정
- `docs`: 문서 수정 (e.g., TIL 작성, README.md 수정)
- `refactor`: 코드 리팩토링 (기능 변경 없이 코드 구조 개선, e.g., 파일명 변경)
  -  `코드 파일`을 삭제했을 때도 사용한다.
- `chore`: 설정 파일 수정 (e.g., .gitignore 추가/수정), 빌드 스크립트 수정 등 (잡무)
  - ``코드 외의 파일``을 삭제했을 때도 사용한다.
- `style`: 코드 스타일 수정 (세미콜론, 들여쓰기 등 기능 변경 없는 코드)
- `test`: 테스트 코드 추가/수정
- `ci`: CI/CD 관련 설정 수정
- `perf`: 성능 개선

**2) Scope (선택)**
- 변경 사항이 영향을 미치는 범위(e.g., 특정 폴더, 모듈)를 괄호 ()  안에 적는다.
- `docs(git)`: (git 관련 문서)
- `feat(login)`: (로그인 기능)

**3) Subject (필수)** : **가장 중요한 커밋의 요약 내용.**  (50자 이내를 권장한다.)

**[Subject 작성 3가지 핵심 규칙]**<br>
1. **명령형**으로 작성한다.
2. 첫 글자는 대문자로 시작한다.
3. 끝에 마침표(.)를 찍지 않는다.

**4) Body (선택)**
- `Subject`만으로 설명이 부족할 때, **"무엇을"** + **"왜"** 변경했는지 상세히 설명한다.
- `Header`와 반드시 한 줄을 띄고(공백) 작성한다.
- `git commit -m "..."` 방식이 아닌, `git commit` 명령어로 편집기를 열어 작성한다.
  -근데 이거 git commit -m "이렇게 하고 엔터 치면 되는거 아닌가?

**5) Footer (선택)
- `Breaking Change` (기존 버전과 호환되지 않는 변경)이나 `Issue Tracker` 번호(e.g. `Fixes #123`)를 적을 때 쓴다.

## 4. Body / Footer 포함 커밋 예시

```example
refactor(auth): JWT 인증 로직 및 스키마 변경

오래된 passport-jwt 라이브러리를 제거하고 최신 'jsonwebtoken' 라이브러리로 교체.
인증 로직이 더 단순해지고 테스트가 용이해짐.

- 기존 콜백 기반 로직을 async/await로 변경
- 토큰 만료 시간 로직 수정

Fixes: #456

BREAKING CHANGE:
JWT 토큰 페이로드(payload) 구조가 변경됨.
기존: { id: 1, name: 'User' }
신규: { userId: 1, role: 'user' }
모든 클라이언트는 새로운 토큰 구조에 맞춰 인증 로직을 업데이트해야 함.
```

## 5. 오늘 배운 점 (회고)

- 혼자 대충 프로젝트할 때든 협업을 할 때든 내가 어떤 파일을 어떻게 수정했는지, 파일 분기점은 어디인지 등 정확하게 파악할 수 있다는 것을 알았다. 지금까지 대충 끄적였는데 앞으로는 적용시키는 것을 체화하자.
- 미래에 협업할 때 컨벤션 만으로도 필터해서 쉽게 찾을 수 있으니 꼭 체화 하자.